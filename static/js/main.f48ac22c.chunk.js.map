{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Navbar/Navbar.jsx","components/common/paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/utils/objectsHelpers.js","redux/usersReducer.js","redux/usersSelectors.js","components/Users/UsersContainer.jsx","components/Header/logo.png","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/appReducer.js","redux/sidebarReduce.js","redux/redux-store.js","components/hoc/withSuspense.js","App.js","index.js","components/common/Preloader/Preloader.jsx","redux/authReducer.js","components/common/paginator/Paginator.module.css","components/common/Preloader/Preloader.module.css","components/Header/Header.module.css","components/Profile/MyPosts/Post/photo.svg","redux/profileReducer.js","redux/dialogsReducer.js","components/Users/User.module.css","api/api.js"],"names":["module","exports","Navbar","className","style","nav","item","to","activeClassName","active","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","s","paginator","onClick","filter","p","map","pageNumber","selectedPage","e","User","user","followingInProgress","unfollow","follow","id","src","photos","small","photo","alt","usersPhoto","followed","disabled","some","name","status","Users","totalUsersCount","users","updateObjectInArray","items","itemId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SETUSERS","SETCURRENTPAGE","SETTOTALCOUNT","TOGGLEISFETCHING","FOLLOWINGPROGRESS","initialState","isFetching","usersReducer","state","action","type","userId","totalCount","followUser","unfollowUser","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","data","resultCode","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UserscContainer","props","requestUsers","this","Preloader","React","Component","compose","connect","usersAPI","bind","unFollow","page","Header","styles","header","logo","loginBlock","isAuth","login","logout","HeaderContainer","auth","INITIALIZEDSUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","authReducer","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","window","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","LoginPage","App","initializeApp","exact","path","render","UsersContainer","AppContainer","withRouter","promise","Promise","all","then","SamuraiJSApp","ReactDOM","document","querySelector","preloaderBlock","preloader","SETUSERDATA","email","setAuthUserData","payload","authAPI","me","response","password","rememberMe","message","messages","length","stopSubmit","_error","ADDPOST","SETUSERPROFILE","SETSTATUS","DELETEPOST","postData","text","likeCount","profile","addPostCreator","newPostText","setStatus","getProfile","profileAPI","getUserStatus","getStatus","updateStatus","postId","SENDMESSAGE","DialogData","MessageData","sendMessageCreator","newMessageBody","body","instance","axios","baseURL","withCredentials","headers","get","post","delete","put"],"mappings":"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","file":"static/js/main.f48ac22c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__GfJUA\",\"item\":\"Navbar_item__1hX0S\",\"active\":\"Navbar_active__g_H2T\"};","import style from './Navbar.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={style.nav}>\r\n            <div className={style.item}>\r\n                <NavLink to='/profile' activeClassName={style.active}>\r\n                    Profile\r\n                </NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to='/dialogs' activeClassName={style.active}>\r\n                    Messages\r\n                </NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to='/users' activeClassName={style.active}>\r\n                    Users\r\n                </NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to='/music' activeClassName={style.active}>\r\n                    Music\r\n                </NavLink>\r\n            </div>\r\n            <div className={`${style.item} ${style.active}`}>\r\n                <NavLink to='/settings' activeClassName={style.active}>\r\n                    Settings\r\n                </NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import {useState} from 'react'\r\nimport s from './Paginator.module.css'\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            {portionNumber > 1 && (\r\n                <button\r\n                    onClick={() => {\r\n                        setPortionNumber(portionNumber - 1)\r\n                    }}>\r\n                    Prev\r\n                </button>\r\n            )}\r\n            {pages\r\n                .filter((p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n                    return (\r\n                        <span\r\n                            className={`${\r\n                                currentPage === p\r\n                                    ? `${s.pageNumber} ${s.selectedPage}`\r\n                                    : s.pageNumber\r\n                            }`}\r\n                            key={p}\r\n                            onClick={(e) => {\r\n                                onPageChanged(p)\r\n                            }}>\r\n                            {p}\r\n                        </span>\r\n                    )\r\n                })}\r\n            {portionCount > portionNumber && (\r\n                <button\r\n                    onClick={() => {\r\n                        setPortionNumber(portionNumber + 1)\r\n                    }}>\r\n                    NEXT\r\n                </button>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator\r\n","import s from './User.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport photo from '../Profile/MyPosts/Post/photo.svg'\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return (\r\n        <>\r\n            <NavLink to={`/profile/${user.id}`}>\r\n                <img\r\n                    src={user.photos.small ? user.photos.small : photo}\r\n                    alt={'Аватарка'}\r\n                    className={s.usersPhoto}\r\n                />\r\n            </NavLink>\r\n            {user.followed ? (\r\n                <button\r\n                    disabled={followingInProgress.some((id) => id === user.id)}\r\n                    onClick={() => unfollow(user.id)}>\r\n                    Отписаться\r\n                </button>\r\n            ) : (\r\n                <button\r\n                    disabled={followingInProgress.some((id) => id === user.id)}\r\n                    onClick={() => follow(user.id)}>\r\n                    Подписаться\r\n                </button>\r\n            )}\r\n            <div>{user.name}</div>\r\n            <div>{user.status}</div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default User\r\n","import Paginator from '../common/paginator/Paginator'\r\nimport User from './User'\r\n\r\nconst Users = ({\r\n    currentPage,\r\n    onPageChanged,\r\n    totalUsersCount,\r\n    pageSize,\r\n    users,\r\n    followingInProgress,\r\n    unfollow,\r\n    follow,\r\n}) => {\r\n    return (\r\n        <div>\r\n            <Paginator\r\n                currentPage={currentPage}\r\n                onPageChanged={onPageChanged}\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n            />\r\n            {users.map((user) => {\r\n                return (\r\n                    <User\r\n                        key={user.id}\r\n                        user={user}\r\n                        followingInProgress={followingInProgress}\r\n                        unfollow={unfollow}\r\n                        follow={follow}\r\n                    />\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users\r\n","export const updateObjectInArray = (\r\n    items,\r\n    itemId,\r\n    objPropName,\r\n    newObjProps\r\n) => {\r\n    return items.map((u) => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}\r\n","import {usersAPI} from '../api/api'\r\nimport {updateObjectInArray} from '../components/utils/objectsHelpers'\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SETUSERS = 'SETUSERS'\r\nconst SETCURRENTPAGE = 'SETCURRENTPAGE'\r\nconst SETTOTALCOUNT = 'SETTOTALCOUNT'\r\nconst TOGGLEISFETCHING = 'TOGGLEISFETCHING'\r\nconst FOLLOWINGPROGRESS = 'TOGGLEISFOLLOWINGPROGRESS'\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {\r\n                    followed: true,\r\n                }),\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {\r\n                    followed: false,\r\n                }),\r\n            }\r\n        case SETUSERS:\r\n            return {...state, users: action.users}\r\n        case SETCURRENTPAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SETTOTALCOUNT:\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        case TOGGLEISFETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case FOLLOWINGPROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [state.followingInProgress.filter((id) => id !== action.userId)],\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default usersReducer\r\nexport const followUser = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowUser = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SETUSERS, users})\r\nexport const setCurrentPage = (currentPage) => ({\r\n    type: SETCURRENTPAGE,\r\n    currentPage,\r\n})\r\nexport const setTotalUsersCount = (totalCount) => ({\r\n    type: SETTOTALCOUNT,\r\n    totalCount,\r\n})\r\nexport const toggleIsFetching = (isFetching) => ({\r\n    type: TOGGLEISFETCHING,\r\n    isFetching,\r\n})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: FOLLOWINGPROGRESS,\r\n    isFetching,\r\n    userId,\r\n})\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n    let data = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(toggleIsFetching(false))\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followUser)\r\n}\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), unfollowUser)\r\n}\r\n","import {createSelector} from 'reselect'\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import React from 'react'\r\nimport Users from './Users'\r\nimport {connect} from 'react-redux'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport {follow, unfollow, toggleFollowingProgress, requestUsers} from '../../redux/usersReducer'\r\nimport {compose} from 'redux'\r\nimport {\r\n    getUsers,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getFollowingInProgress,\r\n} from '../../redux/usersSelectors'\r\n\r\nclass UserscContainer extends React.Component {\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props\r\n        this.props.requestUsers(currentPage, pageSize)\r\n    }\r\n    onPageChanged = (currentPage) => {\r\n        let {pageSize} = this.props\r\n        this.props.requestUsers(currentPage, pageSize)\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Preloader /> : null}\r\n                <Users\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageChanged={this.onPageChanged}\r\n                    users={this.props.users}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, toggleFollowingProgress, requestUsers})\r\n)(UserscContainer)\r\n","export default __webpack_public_path__ + \"static/media/logo.645b3a49.png\";","import {NavLink} from 'react-router-dom'\r\nimport styles from './Header.module.css'\r\nimport logo from './logo.png'\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={styles.header}>\r\n            <NavLink to='/'>\r\n                <img alt='Логотип' src={logo} />\r\n            </NavLink>\r\n            <div className={styles.loginBlock}>\r\n                {props.isAuth ? (\r\n                    <div>\r\n                        {props.login}\r\n                        <button onClick={props.logout}>logout</button>\r\n                    </div>\r\n                ) : (\r\n                    <NavLink to={'/login'}>Login</NavLink>\r\n                )}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport Header from './Header'\r\nimport {connect} from 'react-redux'\r\nimport {logout} from '../../redux/authReducer'\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({isAuth: state.auth.isAuth, login: state.auth.login})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)\r\n","import {auth} from './authReducer'\r\n\r\nconst INITIALIZEDSUCCESS = 'INITIALIZEDSUCCESS'\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZEDSUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZEDSUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(auth())\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess())\r\n    })\r\n}\r\n\r\nexport default appReducer\r\n","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state\r\n}\r\nexport default sidebarReducer\r\n","import {applyMiddleware, combineReducers, createStore} from 'redux'\r\nimport profileReducer from './profileReducer'\r\nimport dialogsReducer from './dialogsReducer'\r\nimport sidebarReducer from './sidebarReduce'\r\nimport usersReducer from './usersReducer'\r\nimport authReducer from './authReducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from './appReducer'\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n})\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nexport default store\r\n\r\nwindow.store = store\r\n","import {Suspense} from 'react'\r\nimport Preloader from '../common/Preloader/Preloader'\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return (\r\n            <Suspense fallback={<Preloader />}>\r\n                <Component {...props} />\r\n            </Suspense>\r\n        )\r\n    }\r\n}\r\n","import './app.css'\r\nimport {BrowserRouter, Route, withRouter} from 'react-router-dom'\r\nimport {Component, lazy} from 'react'\r\nimport {connect, Provider} from 'react-redux'\r\nimport {compose} from 'redux'\r\nimport Preloader from './components/common/Preloader/Preloader'\r\nimport Navbar from './components/Navbar/Navbar'\r\nimport UsersContainer from './components/Users/UsersContainer'\r\nimport HeaderContainer from './components/Header/HeaderContainer'\r\nimport {initializeApp} from './redux/appReducer'\r\nimport store from './redux/redux-store'\r\nimport {withSuspense} from './components/hoc/withSuspense'\r\nconst DialogsContainer = lazy(() => import('./components/Dialogs/DialogsContainer'))\r\nconst ProfileContainer = lazy(() => import('./components/Profile/ProfileContainer'))\r\nconst LoginPage = lazy(() => import('./components/Login/Login'))\r\n\r\nclass App extends Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader />\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer />\r\n                <Navbar />\r\n                <div className='app-wrapper-content'>\r\n                    <Route exact path='/' render={() => <>GeneralPage</>} />\r\n                    <Route path='/dialogs' render={withSuspense(DialogsContainer)} />\r\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />\r\n                    <Route path='/users' render={() => <UsersContainer />} />\r\n                    <Route path='/login' render={withSuspense(LoginPage)} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized,\r\n})\r\n\r\nlet AppContainer = compose(withRouter, connect(mapStateToProps, {initializeApp}))(App)\r\nlet SamuraiJSApp = () => {\r\n    return (\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <AppContainer />\r\n            </Provider>\r\n        </BrowserRouter>\r\n    )\r\n}\r\nexport default SamuraiJSApp\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport SamuraiJSApp from './App'\r\n\r\nReactDOM.render(<SamuraiJSApp />, document.querySelector('#root'))\r\n","import style from './Preloader.module.css'\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className={style.preloaderBlock}>\r\n            <img src='oval.svg' alt='preloader' className={style.preloader} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader\r\n","import {stopSubmit} from 'redux-form'\r\nimport {authAPI} from '../api/api'\r\n\r\nconst SETUSERDATA = 'auth/SETUSERDATA'\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SETUSERDATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SETUSERDATA,\r\n    payload: {userId, email, login, isAuth},\r\n})\r\n\r\nexport const auth = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.resultCode === 0) {\r\n        let {id, email, login} = response.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(auth())\r\n    } else {\r\n        let message =\r\n            response.data.messages.length > 0\r\n                ? response.data.messages[0]\r\n                : 'Какая то ошибка'\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__mhHTt\",\"pageNumber\":\"Paginator_pageNumber__1mAgT\",\"selectedPage\":\"Paginator_selectedPage__7OCKi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__3-Wm0\",\"preloaderBlock\":\"Preloader_preloaderBlock__ABWb8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1dJs6\",\"loginBlock\":\"Header_loginBlock__1Z5bM\"};","export default __webpack_public_path__ + \"static/media/photo.038a81d1.svg\";","import {profileAPI} from '../api/api'\r\n\r\nconst ADDPOST = 'profile/ADD-POST'\r\nconst SETUSERPROFILE = 'profile/SETUSERPROFILE'\r\nconst SETSTATUS = 'profile/SETSTATUS'\r\nconst DELETEPOST = 'profile/DELETEPOST'\r\n\r\nlet initialState = {\r\n    postData: [\r\n        {text: 'Hi, how are you?', id: 1, likeCount: 1},\r\n        {text: \"It's my furst post\", id: 2, likeCount: 10},\r\n        {text: \"It's my second post\", id: 3, likeCount: 20},\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n}\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state\r\n        case ADDPOST: {\r\n            return {\r\n                ...state,\r\n                postData: [\r\n                    ...state.postData,\r\n                    {\r\n                        text: action.newPostText,\r\n                        id: state.postData.length + 1,\r\n                        likeCount: 0,\r\n                    },\r\n                ],\r\n            }\r\n        }\r\n        case SETUSERPROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        }\r\n        case SETSTATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            }\r\n        }\r\n        case DELETEPOST: {\r\n            return {\r\n                ...state,\r\n                postData: state.postData.filter((p) => p.id !== action.postId),\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const addPostCreator = (newPostText) => {\r\n    return {type: ADDPOST, newPostText}\r\n}\r\nexport const setUserProfile = (profile) => {\r\n    return {type: SETUSERPROFILE, profile: profile}\r\n}\r\nexport const setStatus = (status) => {\r\n    return {type: SETSTATUS, status: status}\r\n}\r\nexport const deletePost = (postId) => {\r\n    return {type: DELETEPOST, postId}\r\n}\r\n\r\nexport const getProfile = (id) => async (dispatch) => {\r\n    let data = await profileAPI.getProfile(id)\r\n    dispatch(setUserProfile(data))\r\n}\r\nexport const getUserStatus = (id) => async (dispatch) => {\r\n    let data = await profileAPI.getStatus(id)\r\n    dispatch(setStatus(data))\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport default profileReducer\r\n","const SENDMESSAGE = 'dialogs/SEND-MESSAGE'\r\n\r\nlet initialState = {\r\n    DialogData: [\r\n        {id: 1, name: 'Pasha'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Georgiy'},\r\n        {id: 5, name: 'Valera'},\r\n        {id: 6, name: 'Viktor'},\r\n    ],\r\n    MessageData: [\r\n        {id: 1, message: 'First message'},\r\n        {id: 2, message: 'Second message'},\r\n        {id: 3, message: 'Third message'},\r\n        {id: 4, message: 'Four message'},\r\n        {id: 5, message: 'Five message'},\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SENDMESSAGE:\r\n            let body = action.newMessageBody\r\n            return {\r\n                ...state,\r\n                MessageData: [...state.MessageData, {id: 6, message: body}],\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({\r\n    type: SENDMESSAGE,\r\n    newMessageBody,\r\n})\r\n\r\nexport default dialogsReducer\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"User_usersPhoto__1cbyw\"};","import * as axios from 'axios'\r\nconst instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': 'afa394b4-445c-4924-8618-6b34968b9123',\r\n    },\r\n})\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance\r\n            .get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then((response) => response.data)\r\n    },\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`)\r\n    },\r\n    unFollow(id) {\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n}\r\nexport const profileAPI = {\r\n    getProfile(id) {\r\n        return instance.get(`profile/${id}`).then((response) => response.data)\r\n    },\r\n\r\n    getStatus(id) {\r\n        if (id === '') {\r\n            return instance\r\n                .get(`profile/status/2`)\r\n                .then((response) => response.data)\r\n        }\r\n        return instance\r\n            .get(`profile/status/${id}`)\r\n            .then((response) => response.data)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n}\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`).then((response) => response.data)\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post('auth/login', {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    },\r\n}\r\n"],"sourceRoot":""}