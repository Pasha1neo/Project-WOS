(this["webpackJsonpproject-wos"]=this["webpackJsonpproject-wos"]||[]).push([[4],{229:function(t,e,s){"use strict";s.d(e,"b",(function(){return j})),s.d(e,"c",(function(){return l})),s.d(e,"a",(function(){return p}));var n=s(3),r=s(238),o=s(1),c=s(230),i=s.n(c),a=s(112),u=function(t){var e=t.meta,s=e.touched,n=e.error,r=t.children,c=s&&n;return Object(o.jsxs)("div",{className:i.a.formControl+" "+(c?i.a.error:""),children:[Object(o.jsx)("div",{children:r}),c&&Object(o.jsx)("span",{children:n})]})},j=function(t){var e=t.input,s=Object(r.a)(t,["input"]);return Object(o.jsx)(u,Object(n.a)(Object(n.a)({},t),{},{children:Object(o.jsx)("input",Object(n.a)(Object(n.a)({},e),s))}))},l=function(t){var e=t.input,s=Object(r.a)(t,["input"]);return Object(o.jsx)(u,Object(n.a)(Object(n.a)({},t),{},{children:Object(o.jsx)("textarea",Object(n.a)(Object(n.a)({},s),e))}))},p=function(t,e,s,n,r,c){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(a.a,{placeholder:t,name:e,validate:s,component:n,type:r}),c]})}},230:function(t,e,s){t.exports={formControl:"FormsControls_formControl__2hHF4",error:"FormsControls_error__bgKgi"}},232:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return r}));var n=function(t){if(!t)return"Field is required"},r=function(t){return function(e){if(e.length>t)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 ".concat(t)}}},293:function(t,e,s){t.exports={backfone:"Profile_backfone__Hl3M3"}},294:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__Esq_z",imagess:"ProfileInfo_imagess__1Vs8G",fullName:"ProfileInfo_fullName__11W3a"}},295:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__FyYMf",posts:"MyPosts_posts__2zCiB"}},296:function(t,e,s){t.exports={item:"Post_item__1CLqm"}},299:function(t,e,s){"use strict";s.r(e);var n=s(3),r=s(26),o=s(27),c=s(30),i=s(29),a=s(1),u=s(0),j=s.n(u),l=s(293),p=s.n(l),d=s(294),f=s.n(d),b=s(28),O=s(63),h=s(83),x=function(t){var e=Object(u.useState)(!1),s=Object(h.a)(e,2),n=s[0],r=s[1],o=Object(u.useState)(t.status),c=Object(h.a)(o,2),i=c[0],j=c[1];Object(u.useEffect)((function(){j(t.status)}),[t.status]);return Object(a.jsx)("div",{children:n?Object(a.jsx)("div",{children:Object(a.jsx)("input",{value:i,onChange:function(t){j(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(i)}})}):Object(a.jsx)("div",{children:Object(a.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status?t.status:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u0435\u0442"})})})},m=function(t){var e=t.profile,s=t.userId,n=t.status,r=t.updateStatus;return e?Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{className:f.a.imagess,src:e.photos.small?e.photos.small:O.a,alt:s}),Object(a.jsx)("div",{className:f.a.fullName,children:e.fullName}),Object(a.jsx)("div",{children:e.aboutMe}),Object(a.jsx)(x,{status:n,updateStatus:r})]})}):Object(a.jsx)(b.a,{})},v=s(64),_=s(295),P=s.n(_),g=s(296),k=s.n(g),S=function(t){return Object(a.jsxs)("div",{className:k.a.item,children:[Object(a.jsx)("img",{src:t.photos.small?t.photos.small:O.a,alt:t.id}),Object(a.jsx)("div",{children:t.text}),Object(a.jsxs)("div",{children:["Likes ",t.likeCount]}),Object(a.jsxs)("div",{children:["Id ",t.id]})]})},C=s(112),N=s(113),w=s(232),y=s(229),I=Object(w.a)(100),F=Object(N.a)({form:"ProfileAddNewPostForm"})((function(t){return Object(a.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(a.jsx)(C.a,{name:"newPostText",component:y.c,placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0447\u0442\u043e \u043d\u0438\u0431\u0443\u0434\u044c",validate:[w.b,I]}),Object(a.jsx)("button",{children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0441\u0442"})]})})),B=j.a.memo((function(t){if(!t.profile)return Object(a.jsx)(b.a,{});var e=t.postData.map((function(e){return Object(a.jsx)(S,{text:e.text,likeCount:e.likeCount,id:e.id,photos:t.profile.photos},e.id)}));return Object(a.jsxs)("div",{className:P.a.postsBlock,children:[Object(a.jsx)("h3",{children:"My posts"}),Object(a.jsx)(F,{onSubmit:function(e){t.addPost(e.newPostText)}}),Object(a.jsx)("div",{className:P.a.posts,children:e})]})})),M=s(22),A=Object(M.b)((function(t){return{postData:t.profilePage.postData,newPostText:t.profilePage.newPostText,profile:t.profilePage.profile}}),(function(t){return{addPost:function(e){t(Object(v.a)(e))}}}))(B),D=function(t){return Object(a.jsxs)("div",{className:p.a.backfone,children:[Object(a.jsx)(m,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(a.jsx)(A,{})]})},T=s(7),z=s(18),U=function(t){Object(c.a)(s,t);var e=Object(i.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.AuthorizedUserId)||this.props.history.push("/login"),this.props.getProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return Object(a.jsx)(D,Object(n.a)(Object(n.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(j.a.Component);e.default=Object(z.d)(Object(M.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,AuthorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getProfile:v.c,getUserStatus:v.d,updateStatus:v.e}),T.f)(U)}}]);
//# sourceMappingURL=4.8c217df6.chunk.js.map